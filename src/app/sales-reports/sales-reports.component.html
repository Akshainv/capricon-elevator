<!-- src/app/sales-reports/sales-reports.component.html -->
<div class="reports-container">
  <!-- Interactive Header -->
  <div class="dashboard-header-glass">
    <div class="header-main">
      <div class="header-title">
        <div class="title-with-icon">
          <div class="icon-circle gold-glow">
            <i class="fas fa-chart-line"></i>
          </div>
          <div>
            <h1>Performance Pulse</h1>
          </div>
        </div>
      </div>

      <!-- Analysis Toggles -->
      <div class="header-controls">
        <div class="analysis-toggle">
          <button [class.active]="analysisType === 'monthly'" (click)="setAnalysisType('monthly')">
            Monthly Status
          </button>
          <button [class.active]="analysisType === 'total'" (click)="setAnalysisType('total')">
            Total Status
          </button>
        </div>
      </div>
    </div>
  </div>

  <!-- Loading State -->
  <div *ngIf="loading" class="loading-overlay">
    <div class="spinner-gold"></div>
    <p>Loading performance data...</p>
  </div>

  <div *ngIf="!loading" class="dashboard-content">
    <!-- Stat Cards Grid -->
    <div class="stats-grid">
      <div *ngFor="let stat of stats" class="stat-card-glass"
        [ngClass]="stat.color === '#22c55e' ? 'green-glow' : stat.color === '#3b82f6' ? 'blue-glow' : stat.color === '#d4b347' ? 'gold-glow' : 'slate-glow'">
        <div class="stat-inner">
          <div class="stat-header">
            <div class="stat-icon-wrap" [style.background]="stat.color + '22'" [style.color]="stat.color">
              <i class="fas" [ngClass]="stat.icon"></i>
            </div>
            <div class="stat-trend positive" *ngIf="analysisType === 'monthly'">
              <i class="fas fa-arrow-up"></i>
              <span>Live</span>
            </div>
          </div>
          <div class="stat-data">
            <span class="stat-label">{{ stat.label }}</span>
            <h2 class="stat-value" [style.color]="stat.color">{{ stat.value }}</h2>
            <p class="stat-subtitle">{{ stat.subtitle }}</p>
          </div>
        </div>
      </div>
    </div>

    <!-- Main Chart Section -->
    <div class="chart-section-glass">
      <div class="chart-card">
        <div class="chart-header">
          <div class="chart-title">
            <h3>Revenue Growth Pulse</h3>
            <p>Visualizing your closed business value over time (â‚¹ Lakhs)</p>
          </div>
          <div class="chart-legend">
            <span class="legend-item"><span class="dot gold"></span> Revenue</span>
          </div>
        </div>
        <div class="chart-container">
          <canvas baseChart #revenueChart [data]="revenueChartData" [options]="revenueChartOptions"
            [type]="revenueChartType">
          </canvas>
        </div>
      </div>
    </div>
  </div>
</div>